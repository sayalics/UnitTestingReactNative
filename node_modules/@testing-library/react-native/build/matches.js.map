{"version":3,"file":"matches.js","names":["matches","matcher","text","normalizer","getDefaultNormalizer","exact","normalizedText","normalizedMatcher","toLowerCase","includes","test","trim","collapseWhitespace","replace"],"sources":["../src/matches.ts"],"sourcesContent":["export type NormalizerFn = (textToNormalize: string) => string;\nexport type TextMatch = string | RegExp;\n\nexport function matches(\n  matcher: TextMatch,\n  text: string,\n  normalizer: NormalizerFn = getDefaultNormalizer(),\n  exact: boolean = true\n): boolean {\n  if (typeof text !== 'string') {\n    return false;\n  }\n\n  const normalizedText = normalizer(text);\n  if (typeof matcher === 'string') {\n    const normalizedMatcher = normalizer(matcher);\n    return exact\n      ? normalizedText === normalizedMatcher\n      : normalizedText.toLowerCase().includes(normalizedMatcher.toLowerCase());\n  } else {\n    return matcher.test(normalizedText);\n  }\n}\n\ntype NormalizerConfig = {\n  trim?: boolean;\n  collapseWhitespace?: boolean;\n};\n\nexport function getDefaultNormalizer({\n  trim = true,\n  collapseWhitespace = true,\n}: NormalizerConfig = {}): NormalizerFn {\n  return (text: string) => {\n    let normalizedText = text;\n    normalizedText = trim ? normalizedText.trim() : normalizedText;\n    normalizedText = collapseWhitespace\n      ? normalizedText.replace(/\\s+/g, ' ')\n      : normalizedText;\n    return normalizedText;\n  };\n}\n"],"mappings":";;;;;;;;AAGO,SAASA,OAAT,CACLC,OADK,EAELC,IAFK,EAGLC,UAAwB,GAAGC,oBAAoB,EAH1C,EAILC,KAAc,GAAG,IAJZ,EAKI;EACT,IAAI,OAAOH,IAAP,KAAgB,QAApB,EAA8B;IAC5B,OAAO,KAAP;EACD;;EAED,MAAMI,cAAc,GAAGH,UAAU,CAACD,IAAD,CAAjC;;EACA,IAAI,OAAOD,OAAP,KAAmB,QAAvB,EAAiC;IAC/B,MAAMM,iBAAiB,GAAGJ,UAAU,CAACF,OAAD,CAApC;IACA,OAAOI,KAAK,GACRC,cAAc,KAAKC,iBADX,GAERD,cAAc,CAACE,WAAf,GAA6BC,QAA7B,CAAsCF,iBAAiB,CAACC,WAAlB,EAAtC,CAFJ;EAGD,CALD,MAKO;IACL,OAAOP,OAAO,CAACS,IAAR,CAAaJ,cAAb,CAAP;EACD;AACF;;AAOM,SAASF,oBAAT,CAA8B;EACnCO,IAAI,GAAG,IAD4B;EAEnCC,kBAAkB,GAAG;AAFc,IAGf,EAHf,EAGiC;EACtC,OAAQV,IAAD,IAAkB;IACvB,IAAII,cAAc,GAAGJ,IAArB;IACAI,cAAc,GAAGK,IAAI,GAAGL,cAAc,CAACK,IAAf,EAAH,GAA2BL,cAAhD;IACAA,cAAc,GAAGM,kBAAkB,GAC/BN,cAAc,CAACO,OAAf,CAAuB,MAAvB,EAA+B,GAA/B,CAD+B,GAE/BP,cAFJ;IAGA,OAAOA,cAAP;EACD,CAPD;AAQD"}
{"version":3,"file":"testId.js","names":["getNodeByTestId","node","testID","options","exact","normalizer","matches","props","queryAllByTestId","instance","queryAllByTestIdFn","testId","queryOptions","results","findAll","filter","element","type","getMultipleError","String","getMissingError","getBy","getAllBy","queryBy","queryAllBy","findBy","findAllBy","makeQueries","bindByTestIdQueries","getByTestId","getAllByTestId","queryByTestId","findByTestId","findAllByTestId"],"sources":["../../src/queries/testId.ts"],"sourcesContent":["import type { ReactTestInstance } from 'react-test-renderer';\nimport { matches, TextMatch } from '../matches';\nimport { makeQueries } from './makeQueries';\nimport type {\n  FindAllByQuery,\n  FindByQuery,\n  GetAllByQuery,\n  GetByQuery,\n  QueryAllByQuery,\n  QueryByQuery,\n} from './makeQueries';\nimport type { TextMatchOptions } from './text';\n\nconst getNodeByTestId = (\n  node: ReactTestInstance,\n  testID: TextMatch,\n  options: TextMatchOptions = {}\n) => {\n  const { exact, normalizer } = options;\n  return matches(testID, node.props.testID, normalizer, exact);\n};\n\nconst queryAllByTestId = (\n  instance: ReactTestInstance\n): ((\n  testId: TextMatch,\n  queryOptions?: TextMatchOptions\n) => Array<ReactTestInstance>) =>\n  function queryAllByTestIdFn(testId, queryOptions) {\n    const results = instance\n      .findAll((node) => getNodeByTestId(node, testId, queryOptions))\n      .filter((element) => typeof element.type === 'string');\n\n    return results;\n  };\n\nconst getMultipleError = (testId: TextMatch) =>\n  `Found multiple elements with testID: ${String(testId)}`;\nconst getMissingError = (testId: TextMatch) =>\n  `Unable to find an element with testID: ${String(testId)}`;\n\nconst { getBy, getAllBy, queryBy, queryAllBy, findBy, findAllBy } = makeQueries(\n  queryAllByTestId,\n  getMissingError,\n  getMultipleError\n);\n\nexport type ByTestIdQueries = {\n  getByTestId: GetByQuery<TextMatch, TextMatchOptions>;\n  getAllByTestId: GetAllByQuery<TextMatch, TextMatchOptions>;\n  queryByTestId: QueryByQuery<TextMatch, TextMatchOptions>;\n  queryAllByTestId: QueryAllByQuery<TextMatch, TextMatchOptions>;\n  findByTestId: FindByQuery<TextMatch, TextMatchOptions>;\n  findAllByTestId: FindAllByQuery<TextMatch, TextMatchOptions>;\n};\n\nexport const bindByTestIdQueries = (\n  instance: ReactTestInstance\n): ByTestIdQueries => ({\n  getByTestId: getBy(instance),\n  getAllByTestId: getAllBy(instance),\n  queryByTestId: queryBy(instance),\n  queryAllByTestId: queryAllBy(instance),\n  findByTestId: findBy(instance),\n  findAllByTestId: findAllBy(instance),\n});\n"],"mappings":";;;;;;;AACA;;AACA;;AAWA,MAAMA,eAAe,GAAG,CACtBC,IADsB,EAEtBC,MAFsB,EAGtBC,OAAyB,GAAG,EAHN,KAInB;EACH,MAAM;IAAEC,KAAF;IAASC;EAAT,IAAwBF,OAA9B;EACA,OAAO,IAAAG,gBAAA,EAAQJ,MAAR,EAAgBD,IAAI,CAACM,KAAL,CAAWL,MAA3B,EAAmCG,UAAnC,EAA+CD,KAA/C,CAAP;AACD,CAPD;;AASA,MAAMI,gBAAgB,GACpBC,QADuB,IAMvB,SAASC,kBAAT,CAA4BC,MAA5B,EAAoCC,YAApC,EAAkD;EAChD,MAAMC,OAAO,GAAGJ,QAAQ,CACrBK,OADa,CACJb,IAAD,IAAUD,eAAe,CAACC,IAAD,EAAOU,MAAP,EAAeC,YAAf,CADpB,EAEbG,MAFa,CAELC,OAAD,IAAa,OAAOA,OAAO,CAACC,IAAf,KAAwB,QAF/B,CAAhB;EAIA,OAAOJ,OAAP;AACD,CAZH;;AAcA,MAAMK,gBAAgB,GAAIP,MAAD,IACtB,wCAAuCQ,MAAM,CAACR,MAAD,CAAS,EADzD;;AAEA,MAAMS,eAAe,GAAIT,MAAD,IACrB,0CAAyCQ,MAAM,CAACR,MAAD,CAAS,EAD3D;;AAGA,MAAM;EAAEU,KAAF;EAASC,QAAT;EAAmBC,OAAnB;EAA4BC,UAA5B;EAAwCC,MAAxC;EAAgDC;AAAhD,IAA8D,IAAAC,wBAAA,EAClEnB,gBADkE,EAElEY,eAFkE,EAGlEF,gBAHkE,CAApE;;AAeO,MAAMU,mBAAmB,GAC9BnB,QADiC,KAEZ;EACrBoB,WAAW,EAAER,KAAK,CAACZ,QAAD,CADG;EAErBqB,cAAc,EAAER,QAAQ,CAACb,QAAD,CAFH;EAGrBsB,aAAa,EAAER,OAAO,CAACd,QAAD,CAHD;EAIrBD,gBAAgB,EAAEgB,UAAU,CAACf,QAAD,CAJP;EAKrBuB,YAAY,EAAEP,MAAM,CAAChB,QAAD,CALC;EAMrBwB,eAAe,EAAEP,SAAS,CAACjB,QAAD;AANL,CAFY,CAA5B"}